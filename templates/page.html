{% extends "base.html" %}
{% block header %}
{# <p><a href="..">..</a>/{{ page.slug }}</p> #}
<h1>{{ page.title }}</h1>
<div class="desktop post-meta">
<time datetime="{{ page.date }}">Created: {{ page.date }}</time> ·
Updated: {{ page.updated }} ·
Reading: {{ page.reading_time }} min
<!--Status: {% if page.extra.status %}{{ page.extra.status }}{% endif %}-->
</div>
<p class="post-meta mobile"><time datetime="{{ page.date }}">Created: {{ page.date }}</time>  · 
Reading: {{ page.reading_time }} min
</p>

{% endblock header %}

{% block content %}

{% if page.toc and page.extra.add_toc %}
Table of contents
<ul>
{% for h1 in page.toc %}
    <li>
        <a href="{{ h1.permalink | safe }}">{{ h1.title }}</a>
        {% if h1.children %}
            <ul>
                {% for h2 in h1.children %}
                    <li>
                        <a href="{{ h2.permalink | safe }}">{{ h2.title }}</a>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
    </li>
{% endfor %}
</ul>
{% endif %}

{{ page.content | safe }}
{% endblock content %}

{% block footer %}
<p class="taxonomies">
{% if page.taxonomies.tags %}
{% for tag in page.taxonomies.tags %}
<a href="/tags/{{ tag | slugify }}">#{{ tag }}</a>
{% endfor %}
{% if page.taxonomies.categories %}
{% for category in page.taxonomies.categories %}
<a href="/categories/{{ category | slugify }}">+{{ category }}</a>
{% endfor %}
{% endif %}
{% if page.taxonomies.contexts %}
{% for context in page.taxonomies.contexts %}
<a href="/contexts/{{ context | slugify }}">@{{ context }}</a>
{% endfor %}
{% endif %}
{% endif %}

</p>
{% if page.backlinks %}
<h2>Backlinks</h2>
<ul>
    {% for backlink in page.backlinks %}
    <li><a href="{{ backlink.permalink }}">[[ {{ backlink.title }} ]]</a></li>
    {% endfor %}
</ul>
{% endif %}
<img id="scrollToTopBtn" src="{{ get_url(path='totop.svg') }}" alt="Scroll to Top" />

<script>
window.onscroll = function() {
    scrollFunction();
};

function scrollFunction() {
    var scrollToTopBtn = document.getElementById("scrollToTopBtn");
    if (document.body.scrollTop > 600 || document.documentElement.scrollTop > 600) {
        scrollToTopBtn.style.display = "block";
    } else {
        scrollToTopBtn.style.display = "none";
    }
}

// Smooth scroll to the top
document.getElementById("scrollToTopBtn").addEventListener("click", function() {
    window.scrollTo({
        top: 0,
        behavior: "smooth"
    });
});
</script>


{% endblock footer %}
